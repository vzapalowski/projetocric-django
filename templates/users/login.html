{% load static %}
<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Login</title>
  <link rel="icon" href="{% static 'images/logos/rotacric-alternative.png' %}" type="image/png">
  <link rel="stylesheet" href="{% static 'style/global.css'%}">
  <link rel="stylesheet" href="{% static 'style/style-login-register.css'%}">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body class="bg-light-light">

  <div class="container-fluid vh-100 d-flex justify-content-center align-items-center p-0">
    <div class="row w-100 h-100 shadow-lg overflow-hidden">

      <!-- Coluna imagem -->
      <div class="d-none d-md-flex col-md-6 col-lg-7 bg-img position-relative">
        <a class="bg-white rounded-circle btn-return text-dark position-absolute top-0 start-0 m-4 shadow"
          href="{% url 'home:home' %}">
          <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 16 9">
            <path fill="currentColor" d="M12.5 5h-9c-.28 0-.5-.22-.5-.5s.22-.5.5-.5h9c.28 0 .5.22.5.5s-.22.5-.5.5Z" />
            <path fill="currentColor"
              d="M6 8.5a.47.47 0 0 1-.35-.15l-3.5-3.5c-.2-.2-.2-.51 0-.71L5.65.65c.2-.2.51-.2.71 0c.2.2.2.51 0 .71L3.21 4.51l3.15 3.15c.2.2.2.51 0 .71c-.1.1-.23.15-.35.15Z" />
          </svg>
        </a>
      </div>

      <!-- Coluna formulário -->
      <div class="col-12 col-md-6 col-lg-5 bg-white p-5 d-flex align-items-center justify-content-center">
        <form id="frm-login" method="POST" action="{% url 'users:login' %}" class="w-100">
          {% csrf_token %}

          <div class="text-center mb-4">
            <img src="{% static 'images/logos/rotacric-alternative.png' %}" alt="Logo" width="80" class="mb-3">
            <h2 class="fw-bold text-primary-color">Bem-vindo de volta</h2>
            <p class="text-muted">Faça login para continuar</p>
          </div>

          <!-- Email -->
          <div class="mb-3">
            <input type="text" name="email" placeholder="Usuário ou Email"
              class="form-control p-3 rounded-pill px-4 border-0 shadow-sm" id="inputEmail" required>
          </div>

          <!-- Senha -->
          <div class="mb-3">
            <input type="password" name="password" placeholder="Senha"
              class="form-control p-3 rounded-pill px-4 border-0 shadow-sm" id="inputPassword" required>
          </div>

          <!-- Botão -->
          <div class="d-grid gap-2">
            <button type="submit" class="btn btn-cric btn-lg rounded-pill py-2 shadow">
              Entrar
            </button>
          </div>

          <!-- Links -->
          <div class="text-center mt-4">
            <a href="/reset_password" class="d-block text-dark fw-semibold text-decoration-none">
              Esqueci minha senha
            </a>
            <span class="d-block mt-2">Não possui uma conta?
              <a href="{% url 'users:register' %}" class="fw-semibold text-dark text-decoration-none">
                Cadastre-se
              </a>
            </span>
          </div>
        </form>

        <!-- Mensagens -->
        <div class="toast-container position-fixed top-0 end-0 p-3" style="z-index: 2000;">
          {% if messages %}
          {% for message in messages %}
          <div class="toast-message {{ message.tags }}">
            <strong class="toast-title">
              {% if message.tags == 'success' %}✔ Successo!
              {% elif message.tags == 'error' %}❌ Erro!
              {% endif %}
            </strong>
            <span class="toast-text">{{ message }}</span>
          </div>
          {% endfor %}
          {% endif %}
        </div>

      </div>
    </div>
  </div>


  <script src="{% static 'js/components/message_fx.js' %}" async></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>