{% load partials %}
{% load static %}
<div class="container-fluid d-block d-md-none text-center nav-bar-container p-0 font-cric">
  <nav class="navbar bg-body-tertiary fixed-top border-bottom border-secondary-subtle">
    <div class="container-fluid">
      <!-- Logo -->
      <a href="{% url 'home:home' %}" class="m-nav">
        <img class="img-fluid" width="60" height="60" src="{% static 'images/logos/rotacric-sem-fundo.png' %}" alt="Logo RotaCric">
      </a>

      <!-- Botão hamburguer -->
      <button id="btn-open" class="navbar-toggler" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasNavbar" aria-controls="offcanvasNavbar" aria-label="Toggle navigation" style="box-shadow: none;">
        <span class="navbar-toggler-icon"></span>
      </button>

      <!-- Offcanvas -->
      <div class="offcanvas offcanvas-end offcanvas-cric" tabindex="-1" id="offcanvasNavbar" aria-labelledby="offcanvasNavbarLabel">
        <div class="offcanvas-header">
          <!-- Usuário autenticado -->
          <div class="offcanvas-header-position">
            {% if user.profile.image %}
              <img src="{{ user.profile.image.url }}" alt="Avatar" width="50" height="50" class="rounded-circle me-2">
            {% else %}
              <div class="user-initials me-2 d-flex justify-content-center align-items-center" style="width:50px; height:50px; font-size:1.2rem; border-radius:50%; background-color:#273273; color:#fff;">
                {{ user.get_full_name|default:user.username|slice:":1"|upper }}{% if user.get_full_name %}{{ user.get_full_name|slice:"1:2"|upper }}{% endif %}
              </div>
            {% endif %}
            <div>
              <div class="cric-side-infos cric-side-fullname">{{ user.get_full_name|default:user.username }}</div>
              <div class="cric-side-infos cric-side-email">{{ user.email }}</div>
            </div>
          </div>
          <!--<h5 class="offcanvas-title" id="offcanvasNavbarLabel">Rota<span class="topic-color fw-bold">Cric</span></h5>-->
          <!--<button type="button" class="btn-close" id="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>-->
        </div>

        <div class="cric-side-body">
          <ul class="cric-side-nav">

            <!-- Links principais -->
            <li class="cric-side-nav-item" data-bs-dismiss="offcanvas">
              <a class="d-flex align-items-center nav-link btn-hover-cric px-4 text-primary-emphasis" href="{% url 'home:home' %}">
                <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" class="me-1" viewBox="0 0 24 24">
                  <path fill="currentColor" d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z"/>
                </svg>
                Home
              </a>
            </li>

            <li class="cric-side-nav-item" data-bs-dismiss="offcanvas">
              <a class="d-flex align-items-center nav-link btn-hover-cric px-4 text-primary-emphasis page-nav-item" href="#events">
                <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" class="me-1" viewBox="0 0 24 24">
                  <path fill="currentColor" d="M19 4h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V10h14v10zM9 14H7v-2h2v2zm4 0h-2v-2h2v2zm4 0h-2v-2h2v2zm-8 4H7v-2h2v2zm4 0h-2v-2h2v2zm4 0h-2v-2h2v2z"/>
                </svg>
                Eventos
              </a>
            </li>

            <li class="cric-side-nav-item" data-bs-dismiss="offcanvas">
              <a class="d-flex align-items-center nav-link btn-hover-cric px-4 text-primary-emphasis page-nav-item" href="#cities">
                <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" class="me-1" viewBox="0 0 24 24">
                  <path fill="currentColor" d="M15 11V5l-3-3l-3 3v2H3v14h18V11h-6zm-8 8H5v-2h2v2zm0-4H5v-2h2v2zm0-4H5V9h2v2zm6 8h-2v-2h2v2zm0-4h-2v-2h2v2zm0-4h-2V9h2v2zm0-4h-2V5h2v2zm6 12h-2v-2h2v2zm0-4h-2v-2h2v2z"/>
                </svg>
                Municípios
              </a>
            </li>

            <li class="cric-side-nav-item" data-bs-dismiss="offcanvas">
              <a class="d-flex align-items-center nav-link btn-hover-cric px-4 text-primary-emphasis page-nav-item" href="#manual">
                <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" class="me-1" viewBox="0 0 24 24">
                  <path fill="currentColor" d="M21 5c-1.11-.35-2.33-.5-3.5-.5c-1.95 0-4.05.4-5.5 1.5c-1.45-1.1-3.55-1.5-5.5-1.5S2.45 4.9 1 6v14.65c0 .25.25.5.5.5c.1 0 .15-.05.25-.05C3.1 20.45 5.05 20 6.5 20c1.95 0 4.05.4 5.5 1.5c1.35-.85 3.8-1.5 5.5-1.5c1.65 0 3.35.3 4.75 1.05c.1.05.15.05.25.05c.25 0 .5-.25.5-.5V6c-.6-.45-1.25-.75-2-1zm0 13.5c-1.1-.35-2.3-.5-3.5-.5c-1.7 0-4.15.65-5.5 1.5V8c1.35-.85 3.8-1.5 5.5-1.5c1.2 0 2.4.15 3.5.5v11.5z"/>
                  <path fill="currentColor" d="M17.5 10.5c.88 0 1.73.09 2.5.26V9.24c-.79-.15-1.64-.24-2.5-.24c-1.7 0-3.24.29-4.5.83v1.66c1.13-.64 2.7-.99 4.5-.99zM13 12.49v1.66c1.13-.64 2.7-.99 4.5-.99c.88 0 1.73.09 2.5.26V11.9c-.79-.15-1.64-.24-2.5-.24c-1.7 0-3.24.3-4.5.83zm4.5 1.84c-1.7 0-3.24.29-4.5.83v1.66c1.13-.64 2.7-.99 4.5-.99c.88 0 1.73.09 2.5.26v-1.52c-.79-.16-1.64-.24-2.5-.24z"/>
                </svg>
                Manual
              </a>
            </li>

            <li class="cric-side-nav-item" data-bs-dismiss="offcanvas">
              <a class="d-flex align-items-center nav-link btn-hover-cric px-4 text-primary-emphasis page-nav-item" href="#about">
                <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" class="me-1" viewBox="0 0 512 512">
                  <path fill="currentColor" d="M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42s-42-18.804-42-42s18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"/>
                </svg>
                Sobre
              </a>
            </li>

            <li class="cric-side-nav-item" data-bs-dismiss="offcanvas">
              <a class="d-flex align-items-center nav-link btn-hover-cric px-4 text-primary-emphasis page-nav-item" href="{% url 'home:devs' %}">
              <svg height="22" width="22" class="me-1" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 64 64" xml:space="preserve" fill="#000000"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <style type="text/css"> .st0{fill:#273273;} .st1{opacity:0.2;} .st2{fill:#231F20;} .st3{fill:#FFFFFF;} </style> <g id="Layer_1"> <g> <circle class="st0" cx="32" cy="32" r="32"></circle> </g> <g class="st1"> <g> <g> <path class="st2" d="M42.5,44c-0.7,0-1.3-0.3-1.7-1c-0.6-0.9-0.3-2.2,0.7-2.8l10.1-6.2c0,0,0,0,0-0.1s0,0,0-0.1l-10.1-6.2 c-0.9-0.6-1.2-1.8-0.7-2.8c0.6-0.9,1.8-1.2,2.8-0.7l10.6,6.6l0.2,0.2c0.8,0.8,1.2,1.9,1.2,3c0,1.1-0.4,2.2-1.2,3l-0.2,0.2 l-10.6,6.6C43.2,43.9,42.8,44,42.5,44z"></path> </g> </g> <g> <g> <path class="st2" d="M21.5,44c-0.4,0-0.7-0.1-1-0.3L9.9,37.1L9.7,37c-0.8-0.8-1.2-1.9-1.2-3c0-1.1,0.4-2.2,1.2-3l0.2-0.2 l10.6-6.6c0.9-0.6,2.2-0.3,2.8,0.7c0.6,0.9,0.3,2.2-0.7,2.8l-10.1,6.2c0,0,0,0,0,0.1s0,0,0,0.1l10.1,6.2 c0.9,0.6,1.2,1.8,0.7,2.8C22.9,43.7,22.2,44,21.5,44z"></path> </g> </g> </g> <g class="st1"> <g> <path class="st2" d="M25.5,53c-0.2,0-0.5,0-0.7-0.1c-1-0.4-1.5-1.6-1.2-2.6l13-34c0.4-1,1.6-1.5,2.6-1.2c1,0.4,1.5,1.6,1.2,2.6 l-13,34C27.1,52.5,26.3,53,25.5,53z"></path> </g> </g> <g> <g> <path class="st3" d="M42.5,42c-0.7,0-1.3-0.3-1.7-1c-0.6-0.9-0.3-2.2,0.7-2.8l10.1-6.2c0,0,0-0.1,0-0.1l-10.1-6.2 c-0.9-0.6-1.2-1.8-0.7-2.8c0.6-0.9,1.8-1.2,2.8-0.7l10.6,6.6l0.2,0.2c1.6,1.6,1.6,4.3,0,6l-0.2,0.2l-10.6,6.6 C43.2,41.9,42.8,42,42.5,42z"></path> </g> <g> <path class="st3" d="M21.5,42c-0.4,0-0.7-0.1-1-0.3L9.9,35.1L9.7,35c-1.6-1.6-1.6-4.3,0-6l0.2-0.2l10.6-6.6 c0.9-0.6,2.2-0.3,2.8,0.7c0.6,0.9,0.3,2.2-0.7,2.8l-10.1,6.2c0,0,0,0.1,0,0.1l10.1,6.2c0.9,0.6,1.2,1.8,0.7,2.8 C22.9,41.7,22.2,42,21.5,42z"></path> </g> </g> <g> <path class="st3" d="M25.5,51c-0.2,0-0.5,0-0.7-0.1c-1-0.4-1.5-1.6-1.2-2.6l13-34c0.4-1,1.6-1.5,2.6-1.2c1,0.4,1.5,1.6,1.2,2.6 l-13,34C27.1,50.5,26.3,51,25.5,51z"></path> </g> </g> <g id="Layer_2"> </g> </g></svg>
              Desenvolvedores
              </a>
            </li>

            <li class="cric-side-nav-item" data-bs-dismiss="offcanvas">
              <a class="nav-link btn-hover-cric px-4 text-primary-emphasis" href="{% url 'users:profile' %}">
                <svg height="22" width="22" class="me-1" fill="#273273" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 45.532 45.532" xml:space="preserve"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconpCarrier"> <g> <path d="M22.766,0.001C10.194,0.001,0,10.193,0,22.766s10.193,22.765,22.766,22.765c12.574,0,22.766-10.192,22.766-22.765 S35.34,0.001,22.766,0.001z M22.766,6.808c4.16,0,7.531,3.372,7.531,7.53c0,4.159-3.371,7.53-7.531,7.53 c-4.158,0-7.529-3.371-7.529-7.53C15.237,10.18,18.608,6.808,22.766,6.808z M22.761,39.579c-4.149,0-7.949-1.511-10.88-4.012 c-0.714-0.609-1.126-1.502-1.126-2.439c0-4.217,3.413-7.592,7.631-7.592h8.762c4.219,0,7.619,3.375,7.619,7.592 c0,0.938-0.41,1.829-1.125,2.438C30.712,38.068,26.911,39.579,22.761,39.579z"></path> </g> </g></svg>
                Perfil
              </a>
            </li>
            
            <li class="cric-side-nav-item" data-bs-dismiss="offcanvas">
              <a class="nav-link btn-hover-cric px-4 text-danger" id="cric-side-bnt-exit" href="{% url 'users:logout' %}">
                <svg height="22" width="22" class="me-1" viewBox="-2.4 -2.4 28.80 28.80" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"><rect x="-2.4" y="-2.4" width="28.80" height="28.80" rx="14.4" fill="#db3545" strokewidth="0"></rect></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M22 6.62219V17.245C22 18.3579 21.2857 19.4708 20.1633 19.8754L15.0612 21.7977C14.7551 21.8988 14.449 22 14.0408 22C13.5306 22 12.9184 21.7977 12.4082 21.4942C12.2041 21.2918 11.898 21.0895 11.7959 20.8871H7.91837C6.38776 20.8871 5.06122 19.6731 5.06122 18.0544V17.0427C5.06122 16.638 5.36735 16.2333 5.87755 16.2333C6.38776 16.2333 6.69388 16.5368 6.69388 17.0427V18.0544C6.69388 18.7626 7.30612 19.2684 7.91837 19.2684H11.2857V4.69997H7.91837C7.20408 4.69997 6.69388 5.20582 6.69388 5.91401V6.9257C6.69388 7.33038 6.38776 7.73506 5.87755 7.73506C5.36735 7.73506 5.06122 7.33038 5.06122 6.9257V5.91401C5.06122 4.39646 6.28572 3.08125 7.91837 3.08125H11.7959C12 2.87891 12.2041 2.67657 12.4082 2.47423C13.2245 1.96838 14.1429 1.86721 15.0612 2.17072L20.1633 4.09295C21.1837 4.39646 22 5.50933 22 6.62219Z" fill="#ffffff"></path> <path d="M4.85714 14.8169C4.65306 14.8169 4.44898 14.7158 4.34694 14.6146L2.30612 12.5912C2.20408 12.49 2.20408 12.3889 2.10204 12.3889C2.10204 12.2877 2 12.1865 2 12.0854C2 11.9842 2 11.883 2.10204 11.7819C2.10204 11.6807 2.20408 11.5795 2.30612 11.5795L4.34694 9.55612C4.65306 9.25261 5.16327 9.25261 5.46939 9.55612C5.77551 9.85963 5.77551 10.3655 5.46939 10.669L4.7551 11.3772H8.93878C9.34694 11.3772 9.7551 11.6807 9.7551 12.1865C9.7551 12.6924 9.34694 12.7936 8.93878 12.7936H4.65306L5.36735 13.5017C5.67347 13.8052 5.67347 14.3111 5.36735 14.6146C5.26531 14.7158 5.06122 14.8169 4.85714 14.8169Z" fill="#ffffff"></path> </g></svg>
                Sair
              </a>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </nav>
</div>