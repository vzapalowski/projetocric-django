{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastro</title>
    <link rel="icon" href="{% static 'images/logos/rotacric-alternative.png' %}" type="image/png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="{% static 'users/login-register.css'%}">
    <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css"
    rel="stylesheet"
    integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ"
    crossorigin="anonymous"
    >
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker.min.css"></head>
  </head>

  <body>
    <div class="conteiner-fluid d-flex h-100">
        <div class="col col-sm-12 col-md-6 col-lg-4 d-flex align-items-center justify-content-center bg-light-light">
            <form id="enrollment-form" method="POST" action="{% url 'users:edit_user' user.id %}" class="w-75">
              {% csrf_token %}
              <h1 class="text-center text-primary-color fw-bolder pb-5">Informações pessoais</h1>
                <div class="mb-3">
                    <input type="text" name="username" placeholder="Nome de Usuario" maxlength="100" required="" id="id_full_name" value="{{ user.username }}" class="form-control p-3 rounded-pill px-4 border-0" aria-label="Sizing example input" aria-describedby="inputGroup-sizing-lg">
                </div>
                <div class="mb-3">
                  <input type="text" name="name" placeholder="Nome" maxlength="100" required="" id="id_full_name" value="{{ user.first_name}}" class="form-control p-3 rounded-pill px-4 border-0" id="exampleInputEmail1" aria-describedby="emailHelp">
                </div>
                <div class="mb-3">
                  <input type="text" name="last_name" placeholder="Sobrenome" maxlength="100" required="" id="id_full_name" value="{{ user.last_name }}" class="form-control p-3 rounded-pill px-4 border-0" id="exampleInputEmail1" aria-describedby="emailHelp">
                </div>
                <div class="mb-3">
                  <input type="text" inputmode="numeric" name="rg" placeholder="RG" maxlength="10" required="" id="id_rg" value="{{ user.personaldata.rg }}" class="form-control p-3 rounded-pill px-4 border-0" placeholder="Rede Social" oninput="this.value = this.value.replace(/[^0-9]/g, '');">
                </div>
                <div class="input-group input-group-lg mb-3 dp-container">
                  <span class="input-group-text" id="inputGroup-sizing-lg"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"><path fill="currentColor" d="M19 4h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V10h14v10zM9 14H7v-2h2v2zm4 0h-2v-2h2v2zm4 0h-2v-2h2v2zm-8 4H7v-2h2v2zm4 0h-2v-2h2v2zm4 0h-2v-2h2v2z"/></svg></span>
                  <input id="datepicker" type="text" class="form-control p-3 px-4 border-0" name="date_of_birth" value="{{ user.personaldata.date_of_birth|date:'d/m/Y' }}" placeholder="Data de Nascimento">
                </div>
                <div class="mb-3">
                  <input type="text" name="social_network" placeholder="Instagram" maxlength="30" id="id_social_network" value="{{ user.personaldata.social_network }}" placeholder="Rede Social" class="form-control p-3 rounded-pill px-4 border-0">
                </div>
                <select class="form-select mt-4 p-3 px-4 border-0" name="bond_choice" required id="id_bond_choice">
                  <option value="" disabled>Sobre Você</option>
                  {% for bond_obj in bond %}
                    <option value="{{ bond_obj.id }}" {% if bond_obj.id == user.personaldata.bond_choice.id %}selected{% endif %}>{{ bond_obj }}</option>
                  {% endfor %}
                </select>
                <div class="d-grid gap-2">
                  <button type="submit" class="btn btn-cric btn-lg mt-4 rounded-pill py-2">Atualizar</button>
                </div>
              </form>
              <div class="container position-fixed start-50 translate-middle message-container" style="top: 93vh">
                {% if messages %}
                <ul class="col-11 col-sm-8 ps-0 adjust-message">
                  {% for message in messages %}
                  <li {% if message.tags %} class="{{ message.tags }}-message card message"{% endif %}>
                  <p class="card-body mb-0">
                    {{ message }}
                  </p>
                  </li>
                  {% endfor %}
                </ul>
                {% endif %}
              </div>
        </div>
        <div class="d-none d-md-block col-md-6 col-lg-8 bg-img adjust-register-img">
          <div class="d-flex justify-content-end mt-4 me-5">
            <a class="bg-white rounded-circle btn-return text-dark" href="{% url 'users:profile' %}">
              <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 16 9"><path fill="currentColor" d="M12.5 5h-9c-.28 0-.5-.22-.5-.5s.22-.5.5-.5h9c.28 0 .5.22.5.5s-.22.5-.5.5Z"/><path fill="currentColor" d="M6 8.5a.47.47 0 0 1-.35-.15l-3.5-3.5c-.2-.2-.2-.51 0-.71L5.65.65c.2-.2.51-.2.71 0c.2.2.2.51 0 .71L3.21 4.51l3.15 3.15c.2.2.2.51 0 .71c-.1.1-.23.15-.35.15Z"/></svg>
            </a>
          </div>
        </div>
    </div>
    <script src="{% static 'js/users/message_fx.js' %}" async></script>
    
    <script 
    src="https://kit.fontawesome.com/d97d3ca1f3.js" 
    crossorigin="anonymous"
    ></script>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js"></script>

    <script type="text/javascript">
      $(function(){
        $('#datepicker').datepicker({
          format: 'dd/mm/yyyy',
          clearButton: true,
          autoclose: true,
          container: '.dp-container',
          endDate: '0d'
        });
      });
    </script>
</body>
  </body>

</html>